<div class="title-container">
  <h2>{{ 'EDIT_OR_DELETE_YOUR_TOY' | oTranslate }}</h2>
</div>

<div class="box">
  <o-form class="form" id="formToyEdit" #formToyEdit attr="toysDetail" service="toyowner" entity="toy" keys="toyid" show-header-navigation="false" show-header="true"
   fxLayout="column" header-actions="D" show-header-actions-text="false" undo-button="no" (onDataLoaded)="onFormDataLoaded($event)" (onDelete)="redirectList()" (onUpdate)="redirectList()">
    <o-text-input attr="toyid" hidden="true" sql-type="INTEGER" enabled="yes"></o-text-input>

    <o-column>
      <div fxLayoutGap="25px" fxLayout="row" class="toys-detail-column">
        <o-column fxFlex="30" class="total-column">
          <o-image class="image-container" auto-fit="yes" attr="photo" read-only="no"
            empty-image="assets/images/no-image.png" max-file-size="4194304" sql-type="OTHER" show-controls="no" required="yes"></o-image>
        </o-column>

        <o-column class="inf-column total-column">

          <div>
            <div>
              <o-text-input #nameInput attr="name" fxFlex="100" read-only="no" required="yes" max-length="150"></o-text-input>
            </div>
            <div class="price">
              <o-currency-input #priceInput attr="price" fxFlex="100" read-only="no" min-decimal-digits="2"
                max-decimal-digits="2" min="0.00" max="9999999" required="yes"></o-currency-input>
            </div>
          </div>

          <div fxLayout="row" fxLayoutGap="20px" class="toys-detail-column">
            <div fxFlex="60" class="total-column">
              <div>
                <p class="title">{{'TITLE_DESCRIPTION' | oTranslate}}</p>
                <div>
                  <o-textarea-input #descInput attr="description" fxFlex="100" read-only="no" class="descInput no-resize" required="yes" max-length="700"></o-textarea-input>
                </div>
                <div>
                <o-combo null-selection="no" label="category"  id="category" attr="category" service="categories" entity="category" keys="categoryid" value-column="name"
                columns="categoryid;name" searchable="true" visible-columns="name" required="yes"></o-combo>
              </div>
              </div>
              <div>
                <p class="title">{{'TITLE_CONTACT' | oTranslate}}</p>
                <div>
                  <o-email-input id="usr_email" #usr_email attr="email" fxFlex="100" read-only="no" required="yes" label="usr_email"></o-email-input>
                </div>
              </div>
            </div>
            <div style="width: 100%;">
              <p class="title">{{'TITLE_MAP' | oTranslate}}</p>
              <div class="map-container" [ngClass]="{'not-selected': !isMapLatLongSelected }">
                <location-map (click)="handleMapClick($event)" ></location-map>
              </div>
            </div>
          </div>

          <div>
            <o-real-input #longitude fxFlex="50" attr="longitude" decimal-separator="," max-decimal-digits="10"
              min-decimal-digits="0" required="yes" oHidden></o-real-input>
            <o-real-input #latitude fxFlex="50" attr="latitude" decimal-separator="," max-decimal-digits="10"
              min-decimal-digits="0" required="yes" oHidden></o-real-input>
          </div>

        </o-column>
      </div>
    </o-column>

    <div o-form-toolbar-buttons>
      <button id="saveButton" type="button" class="o-form-toolbar-button" mat-icon-button (click)="newSubmit()"
        attr="updateButton">
        <mat-icon>save</mat-icon>
      </button>
     </div>

  </o-form>
</div>
